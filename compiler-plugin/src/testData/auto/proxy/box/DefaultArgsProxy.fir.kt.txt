package auto.proxy.box

interface Base {
  fun test(a: Int = 1): String {
    return "Base(" + a + ")"
  }

}

fun box(): String {
  val proxy: Base = { // BLOCK
    local class <no name provided> : Base {
      internal /* final field */ val proxyHandler: ProxyHandler = local fun SuperCall.<anonymous>(): Any? {
        return $this$proxy.callSuper()
      }
 /*-> ProxyHandler */
      private /* final field */ val proxyMethod_1_test: Function = Function(packageNames = arrayOf<String>(elements = ["auto", "proxy", "box"]), classNames = arrayOf<String>(elements = ["Base"]), name = "test", isAbstract = false, kotlin = Base::test, annotations = arrayOf<Annotation>(elements = []), parameters = arrayOf<Param>(elements = [Param(name = "<this>", annotations = arrayOf<Annotation>(elements = []), hasDefault = false, type = typeOf<Base>(), globalIndex = 0, indexInKind = 0, kind = 0), Param(name = "a", annotations = arrayOf<Annotation>(elements = []), hasDefault = true, type = typeOf<Int>(), globalIndex = 1, indexInKind = 0, kind = 3)]), returnType = typeOf<String>(), isSuspend = false, isPrimaryCtor = false, invoker = local fun <anonymous>(args: ArgumentsProviderV1): Any? {
        val tmp_0: Int = args.<get-v1DefaultableHasValueBitmask>()
        return when {
          EQEQEQ(arg0 = tmp_0, arg1 = 0) -> super<Base>.test()
          EQEQEQ(arg0 = tmp_0, arg1 = 1) -> super<Base>.test(a = args.v1Get(globalIndex = 1) as Int)
          else -> args.throwInvalidBitmask()
        }
      }
, suspendInvoker = null, inheritedFrom = null).toModel()
      private /* final field */ val proxyMethod_2_equals: Function = Function(packageNames = arrayOf<String>(elements = ["kotlin"]), classNames = arrayOf<String>(elements = ["Any"]), name = "equals", isAbstract = false, kotlin = Any::equals, annotations = arrayOf<Annotation>(elements = []), parameters = arrayOf<Param>(elements = [Param(name = "<this>", annotations = arrayOf<Annotation>(elements = []), hasDefault = false, type = typeOf<Any>(), globalIndex = 0, indexInKind = 0, kind = 0), Param(name = "other", annotations = arrayOf<Annotation>(elements = []), hasDefault = false, type = typeOf<Any?>(), globalIndex = 1, indexInKind = 0, kind = 3)]), returnType = typeOf<Boolean>(), isSuspend = false, isPrimaryCtor = false, invoker = local fun <anonymous>(args: ArgumentsProviderV1): Any? {
        return super<Any>.equals(other = args.v1Get(globalIndex = 1) as Any?)
      }
, suspendInvoker = null, inheritedFrom = null).toModel()
      private /* final field */ val proxyMethod_3_hashCode: Function = Function(packageNames = arrayOf<String>(elements = ["kotlin"]), classNames = arrayOf<String>(elements = ["Any"]), name = "hashCode", isAbstract = false, kotlin = Any::hashCode, annotations = arrayOf<Annotation>(elements = []), parameters = arrayOf<Param>(elements = [Param(name = "<this>", annotations = arrayOf<Annotation>(elements = []), hasDefault = false, type = typeOf<Any>(), globalIndex = 0, indexInKind = 0, kind = 0)]), returnType = typeOf<Int>(), isSuspend = false, isPrimaryCtor = false, invoker = local fun <anonymous>(args: ArgumentsProviderV1): Any? {
        return super<Any>.hashCode()
      }
, suspendInvoker = null, inheritedFrom = null).toModel()
      private /* final field */ val proxyMethod_4_toString: Function = Function(packageNames = arrayOf<String>(elements = ["kotlin"]), classNames = arrayOf<String>(elements = ["Any"]), name = "toString", isAbstract = false, kotlin = Any::toString, annotations = arrayOf<Annotation>(elements = []), parameters = arrayOf<Param>(elements = [Param(name = "<this>", annotations = arrayOf<Annotation>(elements = []), hasDefault = false, type = typeOf<Any>(), globalIndex = 0, indexInKind = 0, kind = 0)]), returnType = typeOf<String>(), isSuspend = false, isPrimaryCtor = false, invoker = local fun <anonymous>(args: ArgumentsProviderV1): Any? {
        return super<Any>.toString()
      }
, suspendInvoker = null, inheritedFrom = null).toModel()
      constructor() /* primary */ {
        super/*Any*/()
        /* <init>() */

      }

      override operator fun equals(other: Any?): Boolean {
        return v1ProxyHelper(handler = <this>.#proxyHandler, originalMethod = <this>.#proxyMethod_2_equals, originalProperty = null, isSetter = false, args = arrayOf<Any?>(elements = [<this>, other]))
      }

      override fun hashCode(): Int {
        return v1ProxyHelper(handler = <this>.#proxyHandler, originalMethod = <this>.#proxyMethod_3_hashCode, originalProperty = null, isSetter = false, args = arrayOf<Any?>(elements = [<this>]))
      }

      override fun test(a: Int): String {
        return v1ProxyHelper(handler = <this>.#proxyHandler, originalMethod = <this>.#proxyMethod_1_test, originalProperty = null, isSetter = false, args = arrayOf<Any?>(elements = [<this>, a]))
      }

      override fun toString(): String {
        return v1ProxyHelper(handler = <this>.#proxyHandler, originalMethod = <this>.#proxyMethod_4_toString, originalProperty = null, isSetter = false, args = arrayOf<Any?>(elements = [<this>]))
      }

    }

    <no name provided>()
  }
  assertEquals<String>(expected = "Base(1)", actual = proxy.test(), message = "Default value")
  assertEquals<String>(expected = "Base(2)", actual = proxy.test(a = 2), message = "Provided value")
  return "OK"
}
